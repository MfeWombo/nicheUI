<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Niche</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">

    <link rel="stylesheet" href="./css/style.css">
</head>

<body>

    <div id="id01" class="modal">
        <div class="modal-dialog">
            <div class="modal-content">
                <a href="#" class="closebtn">×</a>
                <h3>Sign Up</h3>
                <div class="fields">
                    <img src="./img/email.png" alt="">
                    <input type="email" id="InputEmail" placeholder="Email Address">
                </div>
                <div class="fields">
                    <img src="./img/lock.png" alt="">
                    <input type="password" id="InputPassword" placeholder="Password">
                </div>

                <p>By signing up, you agree to our Terms of Service and Privacy Policy.</p>
                <input class="modSign" id="buttonSignup" type="submit" value="SIGN UP">
                <hr>
                <h4>Already Have an Account?</h4>
                <a id="toLogIn" href="#id02">LOG IN</a>
            </div>

        </div>
    </div>
    <div id="id02" class="modal">
        <div class="modal-dialog">
            <div class="modal-content">
                <a href="#" class="closebtn">×</a>
                <h3>Log In</h3>
                <div class="fields">
                    <img src="./img/email.png" alt="">
                    <input type="email" id="InputEmail" placeholder="Email Address">
                </div>
                <div class="fields">
                    <img src="./img/lock.png" alt="">
                    <input type="password" id="InputPassword" placeholder="Password">
                </div>
                <p><a id="forgotPass" href="#id03">Forgot password? Click here</a>.</p>
                <input class="modSign" id="buttonSignin" type="submit" value="LOG IN">
                <hr>
                <h4>New to Niche?</h4>
                <a id="toLogIn" href="#id01">SIGN UP</a>
            </div>

        </div>
    </div>
    <div id="id03" class="modal">
        <div class="modal-dialog">
            <div class="modal-content">
                <a href="#" class="closebtn">×</a>
                <h3>Recover Password</h3>
                <div class="fields">
                    <img src="./img/email.png" alt="">
                    <input type="email" placeholder="Email Address">
                </div>
                <p>Enter the Email Address with which you registered and we will send you a recovery mail.</p>
                <input class="modSign" type="submit" value="RECOVER PASSWORD">
                <hr>
                <h4>Back to Log In?</h4>
                <a id="toLogIn" href="#id02">LOG IN</a>
            </div>

        </div>
    </div>
    <div id="id04" class="modal">
        <div class="modal-dialog">
            <div class="modal-content">
                <a href="#" class="closebtn">×</a>
                <h3>Become a Vendor</h3>
                <div class="fields">
                    <img src="./img/user.png" alt="">
                    <input type="text" placeholder="Shop Address" id="inputAddress" name="shopAddress">
                </div>
                <div class="fields">
                    <img src="./img/user.png" alt="">
                    <input type="text" placeholder="Shop Name" id="inputShop" name="shopName">
                </div>
                <div class="fields">
                    <img src="./img/email.png" alt="">
                    <input type="text" placeholder="Id Type" id="inputType" name="idType">
                </div>
                <div class="fields">
                    <img src="./img/lock.png" alt="">
                    <input type="number" placeholder="Id Number" id="inputNum" name="idNum">
                </div>
                <p>By joining now, you agree to our Terms of Service and Privacy Policy.</p>
                <input class="modSign" id="mVendor" type="submit" value="JOIN Now">
                <hr>
                <h4>Enjoy Our Services</h4>
                <a id="toLogIn" href="./dashboard.html">Dashboard</a>
            </div>

        </div>
    </div>

    <header>
        <nav>
            <img src="./img/logo-black.png" alt="">
            <ul>
                <li><a id="login" href="#id02">LOG IN</a></li>
                <li><a id="signup" href="#id01">SIGN UP</a></li>
            </ul>
        </nav>
        <div id="header-contents">
            <h2>We Deliver<br> Anything Anywhere<br> Anytime</h2>
            <div id="searchBar">
                <input id="search" type="text" Placeholder="Delivery Locations"><input id="searchbtn" type="submit" value="SEARCH">
            </div>
        </div>
    </header>


    <section id="flex-section1">
        <div id="left">
            <div class="holder">
                <h3>
                    Become a<br> Vendor
                </h3>
                <p>
                    Join our large <br> network of vendors. <br> Sell &amp; Make Profit Easily
                </p>
                <a class="blackButton" id="vendor" href="#id04">JOIN NOW</a>
            </div>

        </div>
        <div id="bg-image1"></div>
    </section>
    <section id="flex-section2">
        <div id="imgbg"></div>
        <div>
            <div class="right">
                <h3>
                    Download the <br> Niche App
                </h3>
                <p>
                    Unlock the easiest way to get <br> anything delivered anywhere <br> and fast.
                </p>
                <a class="blackButton2" href=""><img class="icon" src="./img/play-store.png" alt="">PLAY STORE</a>
                <a class="blackButton2" href=""><img class="icon" src="./img/app-store.png" alt="">APP STORE</a>
            </div>
        </div>
    </section>
    <section id="flex-section3">
        <div>
            <div class="holder">
                <h3>
                    Quality Service <br> straight to <br> your doorstep
                </h3>
                <p>
                    What are you waiting for
                </p>
                <a class="blueButton" href="">GET STARTED</a>
            </div>
        </div>
        <div id="sec3-right">
            <img id="shopimg" src="./img/shop.png" alt="">
        </div>
    </section>
    <footer>

        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <!--<img src="./img/logo-white.png" alt="">-->
                    <h1>Niche</h1>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-1 col-md-1">
                    <ul class="content"></ul>
                </div>
                <!--<div class="col-sm-2 col-md-2">-->
                <ul class="col-sm-2 col-md-2">
                    <p>Niche</p>
                    <li><a href="">About</a></li>
                    <li><a href="">Careers</a></li>
                    <li><a href="">Blog</a></li>
                    <li><a href="">Press</a></li>
                    <li><a href="">Unlimited</a></li>
                    <li><a href="">Supports</a></li>
                    <li><a href="">Students</a></li>
                </ul>
                <!--</div>-->
                <!--<div class="col-sm-2 col-md-2">-->
                <ul class="col-sm-2 col-md-2">
                    <p>Partners</p>
                    <li> <a href="">Sell on Niche</a></li>
                    <li> <a href="">Developers</a></li>
                    <li><a href="">Api Docs</a></li>
                    <li> <a href="">Partner Support</a></li>
                </ul>
                <!--</div>-->
                <!--<div class="col-sm-2 col-md-2">-->
                <ul class="col-sm-2 col-md-2">
                    <p>Fleet</p>
                    <li><a href="">Join The Fleet</a></li>
                    <li><a href="">Fleet Support</a></li>
                </ul>
                <!--</div>-->
                <!--<div class="col-sm-2 col-md-2">-->
                <ul class="col-sm-2 col-md-2">
                    <p>Follow Us</p>
                    <li><a href="">Facebook</a></li>
                    <li><a href="">Twitter</a></li>
                    <li> <a href="">Snapchat</a></li>
                    <li> <a href="">Instagram</a></li>
                </ul>
                <!--</div>-->
                <!--<div class="col-sm-2 col-md-2">-->
                <ul class="col-sm-2 col-md-2">
                    <p>Nearby Cities</p>
                    <li><a href="">Lagos</a></li>
                    <li><a href="">Portharcourt</a></li>
                    <li><a href="">Ibadan</a></li>
                    <li><a href="">Abuja</a></li>
                    <li><a href="">Jos</a></li>
                </ul>
                <!--</div>-->
                <div class="col-sm-1 col-md-1">

                </div>
            </div>
        </div>
        <!--<form action="">
            <input id="footemail" type="email" placeholder="Enter Email Address">
            <input id="subscribe" type="submit" value="SUBSCRIBE">
        </form>
        
        <div id="social">
            <img src="./img/fb.png" alt="">
            <img src="./img/tw.png" alt="">
            <img src="./img/tel.png" alt="">
        </div>-->
    </footer>
    <script>
        
        document.getElementById("buttonSignup").addEventListener("click", function (event) {
             event.preventDefault();
            document.getElementById("buttonSignup").innerHTML = "signing you up...";
            var formdata = {
                email: document.getElementById("InputEmail").value,
                password: document.getElementById("InputPassword").value,

            }
            console.log(formdata);

            postData("https://niche-vendor.herokuapp.com/register", formdata)
                .then(data => {
                    console.log(data)
                    document.getElementById("buttonSignup").innerHTML = "success";

                    if (data.status == 200) {
                        alert("Registration Successful")
                        window.location.replace("index.html");
                    }
                    // else if (data.status == 202) {
                    //     window.location.replace("vendor.html");
                    // }
                    // else if (data.status == 203) {
                    //     window.location.replace("courier.html");
                    // }
                    // else if (data.status == 200) {
                    //     window.location.replace("visitor.html");
                    // }

                    else if (data.status >= 400) {
                        alert("Please check the provided data and try again");
                        document.getElementById("buttonSignup").innerHTML = "try again";

                    }
                })
                .catch(err => {
                    console.log(err);
                    document.getElementById("buttonSignup").innerHTML = "try again";

                })

            });

            function postData(url, data) {
                // Default options are marked with *
                return fetch(url, {
                    body: JSON.stringify(data), // must match 'Content-Type' header
                    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
                    credentials: 'same-origin', // include, same-origin, *omit
                    headers: {
                        'user-agent': 'Mozilla/4.0 MDN Example',
                        'content-type': 'application/json'
                    },
                    method: 'POST', // *GET, POST, PUT, DELETE, etc.
                    mode: 'cors', // no-cors, cors, *same-origin
                    redirect: 'follow', // *manual, follow, error
                    referrer: 'no-referrer', // *client, no-referrer
                })
                    .then(response => response.json()) // parses response to JSON
            }

        

//========================================================================================

document.getElementById("buttonSignin").addEventListener("click", function (event) {
            event.preventDefault();
            document.getElementById("buttonSignin").innerHTML = "signing you in...";
            var formdata = {
                email: document.getElementById("InputEmail").value,
                password: document.getElementById("InputPassword").value,

            }
            console.log(formdata);

            postData("https://niche-vendo|r.herokuapp.com/login", formdata)
                .then(data => {
                    console.log(data)
                    document.getElementById("buttonSignin").innerHTML = "success";

                    if (data.status == 201) {
                        window.location.replace("costmer.html");
                    }
                    else if (data.status == 202) {
                        window.location.replace("vendor.html");
                    }
                    else if (data.status == 203) {
                        window.location.replace("courier.html");
                    }
                    else if (data.status == 200) {
                        window.location.replace("visitor.html");
                    }

                    else if (data.status >= 400) {
                        alert("Please check the provided data and try again");
                        document.getElementById("buttonSignin").innerHTML = "try again";

                    }
                })
                .catch(err => {
                    console.log(err);
                    document.getElementById("buttonSignin").innerHTML = "try again";

                })


        });
        function postData(url, data) {
            // Default options are marked with *
            return fetch(url, {
                body: JSON.stringify(data), // must match 'Content-Type' header
                cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
                credentials: 'same-origin', // include, same-origin, *omit
                headers: {
                    'user-agent': 'Mozilla/4.0 MDN Example',
                    'content-type': 'application/json'
                },
                method: 'POST', // *GET, POST, PUT, DELETE, etc.
                mode: 'cors', // no-cors, cors, *same-origin
                redirect: 'follow', // *manual, follow, error
                referrer: 'no-referrer', // *client, no-referrer
            })
                .then(response => response.json()) // parses response to JSON
        }


//============================================================================================

        document.getElementById("mVendor").addEventListener("click", function (event) {
            event.preventDefault();
            document.getElementById("mVendor").innerHTML = "upgrading to vendor...";
            var formdata = {
                shopAddress: document.getElementById("inputAddress").value,
                shopName: document.getElementById("inputShop").value,
                idType: document.getElementById("inputType").value,
                idNum: document.getElementById("inputNum").value,
                // access: document.getElementById("access").value
            }
            console.log(formdata);
            postData("https://niche-vendor.herokuapp.com/upgradeUserToVendor", formdata)
                .then(data => {
                    console.log(data)
                    document.getElementById("mVendor").innerHTML = "success";
                    if (data.status == 200) {
                        alert("Profile successfully Updated")
                        window.location.replace("dashboard.html");
                    }
                    else if (data.status >= 400) {
                        alert("failed to complete, Please Try Again");
                        window.location.replace("index.html");
                    }

                    else if (data.status >= 400) {
                        alert("Please check the provided data and try again");
                        document.getElementById("mVendor").innerHTML = "try again";

                    }
                })
                .catch(err => {
                    console.log(err);
                    document.getElementById("mVendor").innerHTML = "try again";

                })
        });
        function postData(url, data) {
            // Default options are marked with *
            return fetch(url, {
                body: JSON.stringify(data), // must match 'Content-Type' header
                cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
                credentials: 'same-origin', // include, same-origin, *omit
                headers: {
                    'user-agent': 'Mozilla/4.0 MDN Example',
                    'content-type': 'application/json'
                },
                method: 'POST', // *GET, POST, PUT, DELETE, etc.
                mode: 'cors', // no-cors, cors, *same-origin
                redirect: 'follow', // *manual, follow, error
                referrer: 'no-referrer', // *client, no-referrer
            })
                .then(response => response.json()) // parses response to JSON
        }
    </script>

</body>

</html>